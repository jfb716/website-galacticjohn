

<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="author" content="John F. Black">
        <meta name="description" content="Test Site for John F. Black">
        <meta name="keywords" content="John, John Black, John F Black, John F. Black, John Francis Black, Test Site, Test, Synacor, Facebook, NBC, NBCUniversal, LocalEdge, Buffalo, New York, New York City, NYC, Grand Island, University at Buffalo, UB, Technical Support, Ad Operations, AdOps, AdTech">
        <title>GalacticJohn - Header Bidding</title>
        
        <!-- Site Styles -->
        <link rel="stylesheet" media="(min-width:500px)" href="resources/css/desktop/style.css">
        <link rel="stylesheet" media="(min-width:500px)" href="resources/css/desktop/headerbidding.css">
        <link rel="stylesheet" media="(max-width:499px)" href="resources/css/mobile/headerbidding_mobile.css">
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">

      
        <!-- JavaScript API's -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
        
        <!-- My JavaScript -->
        <script src="resources/javascript/jquery.js"></script>
        <script src="resources/javascript/angular.js"></script>
   
       
         
       <!-- Header Bidding -->
       
       <script>
            $(document).ready(function(){
                $("#timeout").val(PREBID_TIMEOUT);
                $("#placementId").val('118220978561571_309337232783277');
                $("#testMode").val('True');
            });
       </script>
       
       <!-- Initial Config -->
       
        <script> 
            var PREBID_TIMEOUT = 700;

            var adUnits = [{
                code: 'div-gpt-ad-1',
                sizes: [[300, 250]],
                bids: [{
                    bidder: 'audienceNetwork',
                    params: {
                       placementId: '118220978561571_309337232783277',
                       testMode: true
                    }
                }]
            }];

            var pbjs = pbjs || {};
            pbjs.que = pbjs.que || [];

          </script>
        
        <!-- Boilerplate -->
        
        <script type="text/javascript" src="resources/javascript/prebid.js" async></script>
          <script>
            var googletag = googletag || {};
            googletag.cmd = googletag.cmd || [];
            googletag.cmd.push(function() {
                googletag.pubads().disableInitialLoad();
            });

            pbjs.bidderSettings = {
                    standard: {
                        adserverTargeting: [
                             {
                         key: "fb_bidid",
                        val: function (bidResponse) {
                            console.log('Bid Response Bid ID: ' + bidResponse.fbBidId);
                            $("#bidId").val(bidResponse.fbBidId);
                            return bidResponse.fbBidId;
                         } 
                            },
                            {   
                                key: "hb_bidder",
                                val: function (bidResponse) {
                                    console.log('Bid Response Bidder Name: ' + bidResponse.bidderCode);
                                    $("#bidder").val(bidResponse.bidderCode);
                                    return bidResponse.bidderCode;
                                }
                            }, {
                                key: "hb_adid",
                                val: function (bidResponse) {
                                    console.log('Bid Response Ad ID: ' + bidResponse.adId);
                                    $("#adId").val(bidResponse.adId);
                                    return bidResponse.adId;
                                }
                            }, {
                                key: "hb_pb",
                                val: function (bidResponse) {
                                    console.log('Bid Response Bid Price: ' + bidResponse.pbMg);
                                    $("#pb").val(bidResponse.pbMg);
                                    return bidResponse.pbMg;
                                }
                            }
                        ]
                    },

                }; 
            
            pbjs.que.push(function() {
                pbjs.addAdUnits(adUnits);
                pbjs.requestBids({
                    bidsBackHandler: sendAdserverRequest
                });
            });

            function sendAdserverRequest() {
                if (pbjs.adserverRequestSent) return;
                pbjs.adserverRequestSent = true;
                googletag.cmd.push(function() {
                    pbjs.que.push(function() {
                        pbjs.setTargetingForGPTAsync();
                        console.log("Key Values Appended");
                        googletag.pubads().refresh();
                    });
                });
            }

            setTimeout(function() {
                sendAdserverRequest();
            }, PREBID_TIMEOUT);
              

          </script>
          
          <!-- GPT Tag --> 
          
          <script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
          
          <script>
              googletag.cmd.push(function() {
                googletag.defineSlot('/27721068/header_bidding', [300, 250], 'div-gpt-ad-1').addService(googletag.pubads());
                googletag.pubads().enableSingleRequest();
                googletag.enableServices();
              });
            </script>
        
       
    </head>
    <body>
        <main>
            <header>
                <h1 id="site_title">Header Bidding</h1>
                <p id="date"></p>
                <p id="weather">NYC Temperature: <span id="temp"></span>&deg;F</p>
                <p id="stock">FB Last Close: &#36;<span id="stock_price"></span> </p>
                <p class="hamburger">&#8675; Tabs &#8675;</p>
                <p class="cross">&#8673; Tabs &#8673;</p>
            </header>
                <ul class="navBar">
                    <li><a href="index.html">AN Video</a></li>
                    <li><a href="headerbidding.html">Header Bidding</a></li>
                    <li><a href="prebidscript.html">Prebid Script</a></li>
                    <li><a href="fullwidth.html">Full Width</a></li>
                    <li><a href="xbox.html">Xbox Tracker</a></li>
                    <li><a href="nativegal.html">Native Gallery</a></li>
                    <li><a href="nativeed.html">Native Editor</a></li>
                    <li><a href="passbacktool.html">Passback Tool</a></li>
                </ul>
                
                    <div class="greyBox">
                        <div id="box">
                        <label for="bidder" class="prebidLabels">Bidder:</label><input id="bidder" readonly type="text">
                        <br>
                        <label for="testMode" class="prebidLabels">Test Mode:<br></label><input id="testMode" readonly type="text">
                        <br>
                        <label for="placementId" class="prebidLabels">Placement ID:</label><input size="50" id="placementId" readonly type="text">
                        <br>
                        <label for="timeout" class="prebidLabels">Timeout:</label><input size="50" id="timeout" readonly type="text">
                        <br>
                        <label for="bidId" class="prebidLabels">Bid ID:</label><input size="50" id="bidId" readonly type="text">
                        <br>
                        <label for="adId" class="prebidLabels">Ad ID:</label><input size="50" id="adId" readonly type="text">
                        <br>
                        <label for="pb" class="prebidLabels">Bid:</label><input id="pb" readonly type="text">
                        </div>
                    </div>
                    
                    <div id="hbAd">
                       
                        <div id='div-gpt-ad-1' style='height:250px; width:300px;'>
                            <script>
                            googletag.cmd.push(function() { googletag.display('div-gpt-ad-1'); });
                            </script>
                        </div>
                        
                    </div>
                    
                    
                    <div class="greyBox">
                        
                    </div>
      
                
        </main>
    </body>
</html>

